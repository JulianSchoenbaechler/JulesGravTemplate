{% set min_chars = config.get('plugins.simplesearch.min_query_length', 3) %}

<section>
  <h3>Search</h3>
  <form class="search" name="search" data-simplesearch-form>
    <input
      id="search-field"
      name="searchfield"
      class="search-input" 
      type="search" {% if min_chars > 0 %} min="{{- min_chars -}}" {% endif %}
      value="{{ query|e }}"
      required
      data-search-invalid="{{ 'PLUGIN_SIMPLESEARCH.SEARCH_FIELD_MINIMUM_CHARACTERS'|t(min_chars)|raw }}"
      data-search-separator="{{ config.system.param_sep }}"
      data-search-input="{{ base_url }}{{ config.plugins.simplesearch.route == '@self' ? '' : (config.plugins.simplesearch.route == '/' ? '' : config.plugins.simplesearch.route) }}/query"
    />

    {% if config.plugins.simplesearch.display_button %}
      <input type="submit" value="&#xf002;">
    {% endif %}
  </form>
  <hr>
</section>
